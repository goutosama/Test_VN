[gd_scene load_steps=13 format=2]

[ext_resource path="res://Images/Chiaki (1).png" type="Texture" id=1]
[ext_resource path="res://rus_test_file.ink.json" type="Resource" id=2]
[ext_resource path="res://styles/dialogWinBackground.stylebox" type="StyleBox" id=3]
[ext_resource path="res://styles/characterTab.stylebox" type="StyleBox" id=4]
[ext_resource path="res://dialogs/dialogChoiceWindow.tscn" type="PackedScene" id=5]
[ext_resource path="res://addons/inkgd/ink_player.gd" type="Script" id=6]
[ext_resource path="res://dialogs/dialogWindow.gd" type="Script" id=7]
[ext_resource path="res://dialogs/dialogChoiceWindow.gd" type="Script" id=8]
[ext_resource path="res://dialogs/Pc.gd" type="Script" id=9]
[ext_resource path="res://dialogs/TextLog.tscn" type="PackedScene" id=10]

[sub_resource type="StyleBoxFlat" id=1]
content_margin_left = 15.0
content_margin_right = 15.0
content_margin_top = 8.0
content_margin_bottom = 8.0
bg_color = Color( 0.00784314, 0.0156863, 0.12549, 1 )
border_width_left = 2
border_width_top = 2
border_width_right = 2
border_width_bottom = 2
border_color = Color( 0.321569, 0.309804, 0.309804, 1 )
corner_radius_top_left = 10
corner_radius_top_right = 10
corner_radius_bottom_right = 10
corner_radius_bottom_left = 10

[sub_resource type="StyleBoxEmpty" id=2]

[node name="Control" type="Control"]
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
script = ExtResource( 7 )

[node name="DialogueWindow" type="MarginContainer" parent="."]
anchor_right = 1.0
anchor_bottom = 1.0
margin_left = 29.0
margin_top = -161.0
margin_right = -186.0

[node name="textWindow" type="PanelContainer" parent="DialogueWindow"]
margin_right = 809.0
margin_bottom = 161.0
custom_styles/panel = ExtResource( 3 )

[node name="M" type="MarginContainer" parent="DialogueWindow/textWindow"]
margin_right = 809.0
margin_bottom = 161.0
custom_constants/margin_right = 74
custom_constants/margin_top = 4
custom_constants/margin_left = 32
custom_constants/margin_bottom = 6

[node name="HBox" type="HBoxContainer" parent="DialogueWindow/textWindow/M"]
margin_left = 32.0
margin_top = 4.0
margin_right = 735.0
margin_bottom = 155.0

[node name="VBox" type="VBoxContainer" parent="DialogueWindow/textWindow/M/HBox"]
margin_right = 703.0
margin_bottom = 151.0
size_flags_horizontal = 3
alignment = 1

[node name="M2" type="MarginContainer" parent="DialogueWindow/textWindow/M/HBox/VBox"]
margin_right = 191.0
margin_bottom = 19.0
size_flags_horizontal = 0
custom_constants/margin_left = 39
custom_constants/margin_bottom = -4

[node name="Pc" type="PanelContainer" parent="DialogueWindow/textWindow/M/HBox/VBox/M2"]
margin_left = 39.0
margin_right = 191.0
margin_bottom = 23.0
custom_styles/panel = ExtResource( 4 )
script = ExtResource( 9 )

[node name="Center" type="CenterContainer" parent="DialogueWindow/textWindow/M/HBox/VBox/M2/Pc"]
margin_left = 16.0
margin_top = 4.0
margin_right = 136.0
margin_bottom = 23.0

[node name="Label" type="Label" parent="DialogueWindow/textWindow/M/HBox/VBox/M2/Pc/Center"]
margin_right = 120.0
margin_bottom = 19.0
text = "Characters name"

[node name="M" type="MarginContainer" parent="DialogueWindow/textWindow/M/HBox/VBox"]
margin_top = 23.0
margin_right = 703.0
margin_bottom = 151.0
size_flags_vertical = 3
custom_constants/margin_right = 69
custom_constants/margin_bottom = 3

[node name="Pc" type="PanelContainer" parent="DialogueWindow/textWindow/M/HBox/VBox/M"]
margin_right = 634.0
margin_bottom = 125.0
size_flags_vertical = 3
custom_styles/panel = SubResource( 1 )

[node name="RichTextLabel" type="RichTextLabel" parent="DialogueWindow/textWindow/M/HBox/VBox/M/Pc"]
margin_left = 15.0
margin_top = 8.0
margin_right = 619.0
margin_bottom = 117.0
size_flags_horizontal = 3
size_flags_vertical = 3
size_flags_stretch_ratio = 7.61
text = "His full dialogue with lasts tooo long oh fod when this will end i cant take this anymore. I also need more text because its funyy yeaaa
Тестируем русский шрифт
"
fit_content_height = true

[node name="CharacterSprite" type="TextureRect" parent="."]
anchor_left = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
margin_left = -343.0
margin_top = -496.0
texture = ExtResource( 1 )
expand = true
stretch_mode = 6

[node name="ChoiceWindow" parent="." instance=ExtResource( 5 )]
margin_left = 76.0
margin_top = -479.0
margin_right = 610.0
margin_bottom = -161.0
script = ExtResource( 8 )

[node name="InkPlayer" type="Node" parent="."]
script = ExtResource( 6 )
ink_file = ExtResource( 2 )

[node name="PopupPanel" type="PopupPanel" parent="."]
margin_top = -766.0
margin_right = 1018.0
margin_bottom = 8.0
custom_styles/panel = SubResource( 2 )

[node name="TextLog" parent="PopupPanel" instance=ExtResource( 10 )]
